<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BMI Calculator</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet"/>

  <style>
    body {
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      font-family: 'Segoe UI', sans-serif;
    }
    .main-container {
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    .unit-toggle .btn.active {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-color: #667eea;
    }
    .calculate-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      border-radius: 10px;
      font-weight: 600;
      transition: transform .3s, box-shadow .3s;
    }
    .calculate-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102,126,234,0.3);
    }
    .result {
      display: none;
      background: linear-gradient(135deg,#f8f9fa,#e9ecef);
      border-radius: 15px;
      border-left: 5px solid #667eea;
      animation: slideIn .5s ease;
    }
    .result.show { display: block; }
    @keyframes slideIn {
      from { opacity:0; transform: translateY(20px); }
      to { opacity:1; transform: translateY(0); }
    }
    .bmi-value { font-size:3rem; font-weight:700; color:#667eea; }
    .bmi-category { font-size:1.5rem; font-weight:600; }
    .category-underweight { color:#dc3545; }
    .category-normal { color:#198754; }
    .category-overweight { color:#ffc107; }
    .category-obese { color:#dc3545; }
    .health-advice { display:none; border-radius:15px; border-left:4px solid #667eea; animation:slideIn .5s ease; }
    .health-advice.show { display:block; }
    .advice-underweight { border-left-color:#dc3545; background:#ffeaea; }
    .advice-normal      { border-left-color:#198754; background:#e6ffe6; }
    .advice-overweight  { border-left-color:#ffc107; background:#fff5cc; }
    .advice-obese       { border-left-color:#dc3545; background:#ffd6d6; }
    .section-title { font-weight:bold; margin-top:.75rem; }
    @media (max-width:576px){
      .bmi-value { font-size:2rem; }
      .bmi-category { font-size:1.2rem; }
    }
  </style>
</head>
<body>
  <div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center py-4">
    <div class="col-12 col-md-8 col-lg-6 col-xl-5">
      <div class="main-container p-4 p-md-5 position-relative">
        <h1 class="fw-bold text-dark mb-2 text-center">
          <i class="bi bi-calculator text-primary me-2"></i>BMI Calculator
        </h1>
        <p class="text-muted text-center mb-4" id="bmi-count">👤 0 people have checked their BMI</p>

        <div class="unit-toggle btn-group w-100 mb-4" role="group">
          <button type="button" class="btn btn-outline-primary active" onclick="setUnit('metric')">
            <i class="bi bi-rulers me-2"></i>Metric (kg/cm)
          </button>
          <button type="button" class="btn btn-outline-primary" onclick="setUnit('mixed')">
            <i class="bi bi-arrow-left-right me-2"></i>Mixed (kg/in)
          </button>
        </div>

        <form id="bmi-form">
          <div class="row g-3 mb-4">
            <div class="col-md-6">
              <label for="age" class="form-label fw-semibold"><i class="bi bi-person me-2"></i>Age</label>
              <input id="age" type="number" class="form-control form-control-lg" placeholder="Age" min="2" max="120" required>
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold"><i class="bi bi-gender-ambiguous me-2"></i>Gender</label>
              <div class="form-check">
                <input id="genderMale" class="form-check-input" type="radio" name="gender" value="male" checked>
                <label class="form-check-label" for="genderMale">Male</label>
              </div>
              <div class="form-check">
                <input id="genderFemale" class="form-check-input" type="radio" name="gender" value="female">
                <label class="form-check-label" for="genderFemale">Female</label>
              </div>
            </div>
            <div class="col-md-6">
              <label for="weight" class="form-label fw-semibold"><i class="bi bi-weight me-2"></i>Weight</label>
              <input id="weight" type="number" class="form-control form-control-lg" placeholder="Weight" step="0.1" min="0" required>
            </div>
            <div class="col-md-6">
              <label for="height" class="form-label fw-semibold"><i class="bi bi-arrows-vertical me-2"></i>Height</label>
              <input id="height" type="number" class="form-control form-control-lg" placeholder="Height" step="0.1" min="0" required>
            </div>
          </div>
          <button type="button" class="btn btn-primary btn-lg w-100 calculate-btn" onclick="calculateBMI()">
            <i class="bi bi-calculator me-2"></i>Calculate BMI
          </button>
        </form>

        <div class="result card mt-4" id="result">
          <div class="card-body text-center">
            <div class="bmi-value" id="bmi-value">0</div>
            <div class="bmi-category" id="bmi-category">Normal</div>
            <div class="text-muted mb-3" id="bmi-range">BMI Range: 18.5 - 24.9</div>
            <button type="button" class="btn btn-success btn-lg" id="show-me-btn" style="display:none;" onclick="showHealthAdvice()">
              <i class="bi bi-heart-pulse me-2"></i>Show Health Advice
            </button>
          </div>
        </div>

        <div class="health-advice card mt-3" id="health-advice">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="mb-0"><i class="bi bi-heart-pulse me-2"></i>Health Tips</h5>
              <button class="btn btn-outline-secondary btn-sm" onclick="hideHealthAdvice()">
                <i class="bi bi-x-lg"></i>
              </button>
            </div>
            <ul class="list-unstyled" id="advice-list"></ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let currentUnit = 'metric';
    let bmiCheckCount = localStorage.getItem('bmiCheckCount') ? parseInt(localStorage.getItem('bmiCheckCount')) : 0;
    document.getElementById('bmi-count').textContent = `👤 ${bmiCheckCount} people have checked their BMI`;

    function setUnit(unit) {
      currentUnit = unit;
      const btns = document.querySelectorAll('.unit-toggle .btn');
      btns.forEach(b => b.classList.remove('active'));
      btns[unit === 'metric' ? 0 : 1].classList.add('active');
      document.getElementById('weight').placeholder = 'Weight (kg)';
      document.getElementById('height').placeholder = unit === 'metric' ? 'Height (cm)' : 'Height (in)';
    }

    function calculateBMI() {
      const age = +document.getElementById('age').value;
      const weight = +document.getElementById('weight').value;
      const height = +document.getElementById('height').value;
      const gender = document.querySelector('input[name="gender"]:checked').value;
      if (!age || !weight || !height) return alert('Fill all fields!');

      const bmi = +(currentUnit === 'metric'
        ? weight / ((height/100)**2)
        : (weight / (height**2)) * 703
      ).toFixed(1);

      let category, adviceClass, adviceArr = [], rangeText;
      if (bmi < 18.5) {
        category = 'Underweight'; adviceClass = 'advice-underweight';
        adviceArr = [
          gender === 'male' ? '👨 He should eat more nutritious meals.' : '👩 She should eat more nutritious meals.',
          '🥑 Include healthy fats, proteins, and carbs.',
          '🏋️‍♂️ Strength training to build muscle.'
        ];
        rangeText = 'BMI Range: < 18.5';
      } else if (bmi < 25) {
        category = 'Normal'; adviceClass = 'advice-normal';
        adviceArr = [
          gender === 'male' ? '👨 He is doing great!' : '👩 She is doing great!',
          '🥗 Maintain balanced nutrition and activity.',
          '💧 Stay hydrated and manage stress.'
        ];
        rangeText = 'BMI Range: 18.5 – 24.9';
      } else if (bmi < 30) {
        category = 'Overweight'; adviceClass = 'advice-overweight';
        adviceArr = [
          gender === 'male' ? '👨 He should reduce processed foods.' : '👩 She should reduce processed foods.',
          '🏃‍♀️ Increase aerobic activity.',
          '🩺 Consult a doctor for guidance.'
        ];
        rangeText = 'BMI Range: 25 – 29.9';
      } else {
        category = 'Obese'; adviceClass = 'advice-obese';
        adviceArr = [
          gender === 'male' ? '👨 He should seek medical advice.' : '👩 She should seek medical advice.',
          '📋 Adopt a structured weight loss plan.',
          '🚶‍♂️ Slowly increase physical activity.'
        ];
        rangeText = 'BMI Range: ≥ 30';
      }

      document.getElementById('bmi-value').textContent = bmi;
      const catEl = document.getElementById('bmi-category');
      catEl.textContent = category;
      catEl.className = `bmi-category category-${category.toLowerCase()}`;
      document.getElementById('bmi-range').textContent = rangeText;

      document.getElementById('result').classList.add('show');
      document.getElementById('show-me-btn').style.display = 'inline-block';

      const listEl = document.getElementById('advice-list');
      listEl.innerHTML = '';
      adviceArr.forEach(item => {
        const li = document.createElement('li');
        li.className = 'section-title';
        li.textContent = item;
        listEl.appendChild(li);
      });

      const box = document.getElementById('health-advice');
      box.className = `health-advice card mt-3 ${adviceClass}`;
      box.classList.remove('show');

      bmiCheckCount++;
      localStorage.setItem('bmiCheckCount', bmiCheckCount);
      document.getElementById('bmi-count').textContent = `👤 ${bmiCheckCount} people have checked their BMI`;
    }

    function showHealthAdvice() {
      document.getElementById('health-advice').classList.add('show');
    }

    function hideHealthAdvice() {
      document.getElementById('health-advice').classList.remove('show');
    }
  </script>
</body>
</html>
